<!doctype html><html lang=en-US dir=ltr><head><meta charset=utf-8><meta name=viewport content="initial-scale=1,width=device-width"><link rel=icon type=image/png sizes=32x32 href=/blog/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/blog/favicons/favicon-16x16.png><link rel="shortcut icon" href=/blog/favicons/favicon.ico><link rel=alternate type=application/rss+xml href=https://anaminus.github.io/blog/briefs/index.xml><title>Briefs | Anaminus.Blog</title><meta name=twitter:card content="summary"><meta name=twitter:title content="Briefs | Anaminus.Blog"><meta name=twitter:description content="Low-effort content for certain microblogging platforms."><meta name=twitter:image content="https://anaminus.github.io/blog/favicons/favicon-512x512.png"><meta property="og:type" content="website"><meta property="og:title" content="Briefs | Anaminus.Blog"><meta property="og:description" content="Low-effort content for certain microblogging platforms."><meta property="og:image" content="https://anaminus.github.io/blog/favicons/favicon-512x512.png"><link rel=stylesheet href=/blog/main.min.ec8850f9fe3ad746e212254e26de9fd02b07508eb40640aa7bd0e787afd42ba9.css integrity="sha256-7IhQ+f4610biEiVOJt6f0CsHUI60BkCqe9Dnh6/UK6k=" crossorigin=anonymous><style>.large{font-size:135%}.swatches{font-size:18px;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));grid-auto-rows:180px;> div { overflow: hidden; text-wrap: nowrap; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; }}.dark.r304{background-color:#000;color:#5a5a5a}.dark.r456{background-color:#000;color:#757575}.dark.r701{background-color:#000;color:#959595}.dark.r700{background-color:#595959;color:#fff}.dark.r454{background-color:#767676;color:#fff}.dark.r303{background-color:#949494;color:#fff}.light.r304{background-color:#5a5a5a;color:#000}.light.r456{background-color:#757575;color:#000}.light.r701{background-color:#959595;color:#000}.light.r700{background-color:#fff;color:#595959}.light.r454{background-color:#fff;color:#767676}.light.r303{background-color:#fff;color:#949494}</style></head><body><header><a href=/blog/><svg class="header" width="43" height="9" viewBox="0 0 43 9"><title>Logo with title ".Blog"</title><path class="logo" d="m2 1v1H1v3h1v3h1V7h1v1h1V5h1V2H5V1H4v1H3V1zm0 2h1v1H2zm2 0h1v1H4z"/><path class="title" d="m13 1v7h4V7h-3V5h3V4h-3V2h3V1zm4 1v2h1V2zm0 3v2h1V5zm2-2v5h5V7h-4V3zm7 0v1h3V3zm3 1v3h1V4zm0 3h-3v1h3zm-3 0V4h-1v3zm6-4v1h4V3zm0 1h-1v3h1zm0 3v1h3V7zm3 0h1V5h-3v1h2zM9 7v1h1V7z"/><path class="cursor" d="m37 8h5v1h-5z"/></svg></a></header><main><nav><a href=/blog/>Front</a></nav><h1 class=with-feed>Briefs<a class=feed-icon title="RSS feed" href=/blog/briefs/index.xml><svg width="128" height="128" viewBox="0 0 256 256"><path d="m92 189a24 24 0 01-24 24 24 24 0 01-24-24 24 24 0 0124-24 24 24 0 0124 24z"/><path d="m160 213h-34a82 82 0 00-82-82V97a116 116 0 01116 116z"/><path d="M184 213A140 140 0 0044 73V38a175 175 0 01175 175z"/></svg></a></h1><p>Low-effort content for certain microblogging platforms.</p><div class=briefs><article id=202203022144 class=brief><header><div class=title><h1><a href=/blog/briefs/202203022144/>Good fit</a></h1><time class=date title="2022-03-02 21:44">2022-03-02</time></div></header><p>Sometimes it takes way too much energy to decide that something you want to use
isn&rsquo;t going to be a good fit.</p><div class=tags><a class=tag href=/blog/tags/observation/>#observation</a></div></article><article id=202202221831 class=brief><header><div class=title><h1><a href=/blog/briefs/202202221831/>22</a></h1><time class=date title="2022-02-22 22:22">2022-02-22</time></div></header><p>Not the 22nd month. Don&rsquo;t care.</p><div class=tags><a class=tag href=/blog/tags/lark/>#lark</a></div></article><article id=202202211845 class=brief><header><div class=title><h1><a href=/blog/briefs/202202211845/>Sun rays Mk II</a></h1><time class=date title="2022-02-21 18:45">2022-02-21</time></div></header><p>Sun rays with much better performance.</p><figure><video src=/blog/briefs/202202211845/00.mp4 controls loop></video></figure><p>Lot to unpack here. Each ray is a triangle within a MeshPart. Each MeshPart
groups together 85 triangles. Each vertex has a corresponding Bone, so the
triangles can be positioned independently and arbitrarily. Rays are produced by
allocating tris from the 85-tri meshes. A new MeshPart is created once all the
tris from the previous MeshPart are used.</p><p>The ForceField material is utilized here. As previously mentioned, the
orientation of vertex normals affects the appearance of the force field. Each
vertex corresponds to a bone. For each tri, one of the bones is designated as a
&ldquo;roller&rdquo;.</p><p>The roller bone is moved out of the MeshPart into a separate Part that is
attached with a BallSocketConstraint at the original location. This part has
another attachment with a randomized orientation. This randomized attachment is
assigned to an AlignOrientation.</p><p>The other end of the AlignOrientation is assigned to a single attachment. The
brick in the video contains this attachment. The rotation of this brick is
directly controlling the &ldquo;movement&rdquo; of the rays.</p><p>The extra attachment with the randomized orientation is necessary so that the
appearance of force fields are spread out and unaligned. Assemblies with
BallSockets are necessary so that the bones are detected correctly while
allowing free orientation.</p><p>Now that I think about, the whole thing is driven entirely by physics. The only
script running continuously is to rotate the brick, but that&rsquo;s only because the
AngularVelocity constraint was being finicky.</p><p>Driving the control brick through physics doesn&rsquo;t work well, because the rollers
seem to fall asleep or otherwise get stuck. Updating it via script seems to keep
them awake.</p><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/gamedev/>#gamedev</a></div></article><article id=202202201547 class=brief><header><div class=title><h1><a href=/blog/briefs/202202201547/>Sun rays</a></h1><time class=date title="2022-02-20 15:47">2022-02-20</time></div></header><p>Sun rays.</p><figure><video src=/blog/briefs/202202201547/00.mp4 controls loop></video></figure><p>Each ray is just a stretched cube mesh with an almost transparent ForceField
material. The mesh is just for surface smoothing, so a simple Union could be
used as well, though it&rsquo;s less convenient to resize. Each part is rotated
continuously.</p><p>Rays are cast from a defined plane using GetSunDirection, so some occlusion can
be achieved.</p><figure><video src=/blog/briefs/202202201547/02.mp4 controls loop></video></figure><p>In practice, it seems like using meshes and ForceFields is excessive. Regular
transparent parts seem to produce more or less the same effect.</p><p>Retrying with a simple triangle mesh has much better performance. An interesting
side-effect of using a mesh with bones is that the shape and appearance of the
ForceField can be controlled by the vertex normals.</p><p>Rotating the vertex normals instead of the part produces a subtle
rolling-fog-like effect. Not sure if it will show up in the video, but it&rsquo;s
really cool. Unfortunately, the performance is awful. Bone modification doesn&rsquo;t
seem to be as optimized as it could be.</p><figure><video src=/blog/briefs/202202201547/01.mp4 controls loop></video></figure><p>According to the profiler, modifying a Bone&rsquo;s CFrame once involves 27 instances
of &ldquo;Loader&rdquo;, each involving a call to &ldquo;IsA&rdquo;. Definitely doesn&rsquo;t seem right.</p><p>Apparently the ForceField material can be affected by vertex color alphas, but
Blender doesn&rsquo;t support them???</p><p>A further optimization is to have multiple triangles per MeshPart. A mesh can
have up to 256 bones, which amounts to 85 triangles. This reduces the above
scene of ~400 parts down to just 6.</p><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/gamedev/>#gamedev</a></div></article><article id=202202152348 class=brief><header><div class=title><h1><a href=/blog/briefs/202202152348/>Plugin marketplace</a></h1><time class=date title="2022-02-15 23:48">2022-02-15</time></div></header><p>It&rsquo;s fine to put pressure on Roblox for the plugin marketplace, but you have no
business being angry about it. Its financial viability was questioned from the
moment it was introduced.</p><p>It has been around two years with no action from Roblox. A very short time to
coordinate a multitude of features across a variety of systems and teams while
also juggling other priorities. Especially considering the happenings during
those two particular years. My impression is that they&rsquo;re working on it. Give
the feature the time it deserves.</p><p>Moving to <a href=http://itch.io>http://itch.io</a> is an excellent way to apply pressure and get Roblox to
reevaluate their priorities. I just think that being upset about it comes off as
entitled.</p><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/hottake/>#hottake</a></div></article><article id=202202152139 class=brief><header><div class=title><h1><a href=/blog/briefs/202202152139/>coroutine.close</a></h1><time class=date title="2022-02-15 21:39">2022-02-15</time></div></header><p>The new <code>coroutine.close</code> doesn&rsquo;t cause the thread to be removed from the
scheduler, so it&rsquo;s still sitting around in memory. Proper delay cancellation
remains unsolved.</p><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/programming/>#programming</a></div></article><article id=202202111249 class=brief><header><div class=title><h1><a href=/blog/briefs/202202111249/>Public communication</a></h1><time class=date title="2022-02-11 12:49">2022-02-11</time></div></header><p>Not a fan of the isn&rsquo;t-that-outrageous approach to public communication.</p><div class=tags><a class=tag href=/blog/tags/rant/>#rant</a></div></article><article id=202202111213 class=brief><header><div class=title><h1><a href=/blog/briefs/202202111213/>Plugin marketplace category</a></h1><time class=date title="2022-02-11 12:13">2022-02-11</time></div></header><p>Just now I discovered that the devforum has a private category specifically for
the plugin marketplace, created only a few months ago. Maybe something&rsquo;s up.</p><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a></div></article><article id=202202101444 class=brief><header><div class=title><h1><a href=/blog/briefs/202202101444/>Plugin running</a></h1><time class=date title="2022-02-10 14:44">2022-02-10</time></div></header><p>Plugins run a lot earlier than you&rsquo;d think. If you need to depend on the game
running, you can do the following to block:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=kr>if</span> <span class=ow>not</span> <span class=n>RunService</span><span class=p>:</span><span class=n>IsRunning</span><span class=p>()</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>	<span class=n>RunService.Stepped</span><span class=p>:</span><span class=n>Wait</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=kr>end</span>
</span></span></code></pre></div><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a></div></article><article id=202202091515 class=brief><header><div class=title><h1><a href=/blog/briefs/202202091515/>select bug</a></h1><time class=date title="2022-02-09 15:15">2022-02-09</time></div></header><p>If you&rsquo;re getting errors from my studio plugins, it&rsquo;s because the select
function is being unruly again.</p><p><a href=https://devforum.roblox.com/t/1652975/7>https://devforum.roblox.com/t/1652975/7</a></p><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/luau/>#luau</a></div></article><article id=202202091505 class=brief><header><div class=title><h1><a href=/blog/briefs/202202091505/>Yaks</a></h1><time class=date title="2022-02-09 15:05">2022-02-09</time></div></header><p>One of those days where a bunch of yaks just barge in.</p><div class=tags><a class=tag href=/blog/tags/programming/>#programming</a></div></article><article id=202202061847 class=brief><header><div class=title><h1><a href=/blog/briefs/202202061847/>Money</a></h1><time class=date title="2022-02-06 18:47">2022-02-06</time></div></header><blockquote><p>A player reaches out to you for support on your Roblox game (data loss). While
gathering information you realize they ran exploits. Do you continue with
their request?</p><p>&mdash; <a href=https://twitter.com/Ozzypig/status/1490454687539150853>Ozzypig, 10:37 PM · Feb 6, 2022</a></p></blockquote><p>Assuming my game has already isolated them from non-exploiters, the answer
depends on whether they&rsquo;re making me money.</p><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a></div></article><article id=202202052315 class=brief><header><div class=title><h1><a href=/blog/briefs/202202052315/>Web slides</a></h1><time class=date title="2022-02-05 23:15">2022-02-05</time></div></header><p>Why are presentation programs still a thing? Why hasn&rsquo;t the entire concept been
completely devoured by HTML/CSS/JS? You&rsquo;re basically making a bunch of web
pages. You could do it all on one page. Hell, you probably don&rsquo;t even need JS.</p><div class=tags><a class=tag href=/blog/tags/webdev/>#webdev</a>
<a class=tag href=/blog/tags/thought/>#thought</a></div></article><article id=202202022336 class=brief><header><div class=title><h1><a href=/blog/briefs/202202022336/>Ripples</a></h1><time class=date title="2022-02-02 23:36">2022-02-02</time></div></header><p>Tried a ripple effect.</p><figure><video src=/blog/briefs/202202022336/00.mp4 controls loop></video></figure><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/gamedev/>#gamedev</a></div></article><article id=202202011854 class=brief><header><div class=title><h1><a href=/blog/briefs/202202011854/>CFrames</a></h1><time class=date title="2022-02-01 18:54">2022-02-01</time></div></header><p>Attributes are not allowed to be CFrames. Why.</p><p>Moreover, since Roblox&rsquo;s inception they haven&rsquo;t displayed CFrames in the
properties panel. Instead we&rsquo;ve been getting things like Position/Orientation
pseudo-representations for select properties.</p><p>Roblox could have done this years ago:</p><figure><img src=/blog/briefs/202202011854/00.png width=368 height=206 loading=lazy></figure><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/rant/>#rant</a></div></article><article id=202202011201 class=brief><header><div class=title><h1><a href=/blog/briefs/202202011201/>ContentQueue</a></h1><time class=date title="2022-02-01 12:01">2022-02-01</time></div></header><p>ContentQueue: ordered preloading of assets.</p><p><a href=https://github.com/Anaminus/roblox-library/tree/master/modules/ContentQueue>https://github.com/Anaminus/roblox-library/tree/master/modules/ContentQueue</a></p><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/library/>#library</a></div></article><article id=202202011022 class=brief><header><div class=title><h1><a href=/blog/briefs/202202011022/>Production logos</a></h1><time class=date title="2022-02-01 10:22">2022-02-01</time></div></header><p>Production logo sequencer.</p><figure><video src=/blog/briefs/202202011022/00.mp4 controls loop></video></figure><p>First logo is actually 3D to avoid loading assets. On the other hand, the next
logo loads over 500 assets; the previous logo will wait until the next logo is
finished loading. The second run of the sequence demonstrates skipping via user
input.</p><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/gamedev/>#gamedev</a></div></article><article id=202201300125 class=brief><header><div class=title><h1><a href=/blog/briefs/202201300125/>Maid outfits</a></h1><time class=date title="2022-01-30 01:25">2022-01-30</time></div></header><p>Maid objects are just tables in maid outfits.</p><figure><img src=/blog/briefs/202201300125/00.jpg width=909 height=1200 loading=lazy></figure><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/lark/>#lark</a></div></article><article id=202201300109 class=brief><header><div class=title><h1><a href=/blog/briefs/202201300109/>Maid pattern</a></h1><time class=date title="2022-01-30 01:09">2022-01-30</time></div></header><p>Maids are a pattern.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=kd>local</span> <span class=n>maid</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=kr>function</span> <span class=nf>finish</span><span class=p>(</span><span class=n>maid</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=kr>for</span> <span class=n>_</span><span class=p>,</span> <span class=n>task</span> <span class=kr>in</span> <span class=n>pairs</span><span class=p>(</span><span class=n>maid</span><span class=p>)</span> <span class=kr>do</span>
</span></span><span class=line><span class=cl>		<span class=n>task</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=kr>end</span>
</span></span><span class=line><span class=cl>	<span class=n>table.clear</span><span class=p>(</span><span class=n>maid</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>conn</span> <span class=o>=</span> <span class=n>button.Activated</span><span class=p>:</span><span class=n>Connect</span><span class=p>(</span><span class=n>listener</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>maid.activated</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span> <span class=n>conn</span><span class=p>:</span><span class=n>Disconnect</span><span class=p>()</span> <span class=kr>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>instance.Parent</span> <span class=o>=</span> <span class=n>parent</span>
</span></span><span class=line><span class=cl><span class=n>maid.instance</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span> <span class=n>instance</span><span class=p>:</span><span class=n>Destroy</span><span class=p>()</span> <span class=kr>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>otherMaid</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=n>otherMaid.maid</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span> <span class=n>finish</span><span class=p>(</span><span class=n>maid</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>finish</span><span class=p>(</span><span class=n>otherMaid</span><span class=p>)</span>
</span></span></code></pre></div><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/programming/>#programming</a></div></article><article id=202201242346 class=brief><header><div class=title><h1><a href=/blog/briefs/202201242346/>Blender modernity</a></h1><time class=date title="2022-01-24 23:46">2022-01-24</time></div></header><p>After working with Blender for a while, Studio&rsquo;s UI is really starting to feel
primitive.</p><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/blender/>#blender</a></div></article><article id=202201241314 class=brief><header><div class=title><h1><a href=/blog/briefs/202201241314/>Quotes</a></h1><time class=date title="2022-01-24 13:14">2022-01-24</time></div></header><p>Including &ldquo;without the quotes&rdquo; will be necessary until humans are extinct.</p><div class=tags><a class=tag href=/blog/tags/thought/>#thought</a></div></article><article id=202201211903 class=brief><header><div class=title><h1><a href=/blog/briefs/202201211903/>Passphrase</a></h1><time class=date title="2022-01-21 19:03">2022-01-21</time></div></header><p>When you&rsquo;re typing your passphrase and you feel a sneeze coming on so you start
scrambling to finish.</p><div class=tags><a class=tag href=/blog/tags/observation/>#observation</a></div></article><article id=202201191349 class=brief><header><div class=title><h1><a href=/blog/briefs/202201191349/>Query plugin</a></h1><time class=date title="2022-01-19 13:49">2022-01-19</time></div></header><p>Lately I&rsquo;ve been getting a lot of mileage out this selection querying plugin I
made:</p><p><a href=https://github.com/Anaminus/roblox-library/blob/master/plugins/Utilities/q.lua>https://github.com/Anaminus/roblox-library/blob/master/plugins/Utilities/q.lua</a></p><p>It&rsquo;s based on Lua expressions (with some extra syntax), so it&rsquo;s very versatile.</p><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/gamedev/>#gamedev</a>
<a class=tag href=/blog/tags/plugin/>#plugin</a></div></article><article id=202201131143 class=brief><header><div class=title><h1><a href=/blog/briefs/202201131143/>Cloth</a></h1><time class=date title="2022-01-13 11:43">2022-01-13</time></div></header><p>Hot take: Cloth is just a 2D rope.</p><div class=tags><a class=tag href=/blog/tags/hottake/>#hottake</a></div></article><article id=202201122039 class=brief><header><div class=title><h1><a href=/blog/briefs/202201122039/>Cloth physics</a></h1><time class=date title="2022-01-12 20:39">2022-01-12</time></div></header><p>Here&rsquo;s cloth physics via RodConstraints. Cloth is a MeshPart deformed by bones.
Bone positions are matched to node positions by a script. An AngularVelocity
dampens each node, since their rotations like to go crazy for some reason.</p><figure><video src=/blog/briefs/202201122039/00.mp4 controls loop></video></figure><p>Bones have to be parented to a MeshPart to work, so a script is necessary. It
would be neat if they could refer to a mesh instead, so that they could be
placed inside different parts.</p><p>Seems to run surprisingly well. Like capes-for-everyone might be viable, at
least for a low player count.</p><p>The MeshPart is anchored, but its appearance is deformed using bones. A script
updates the positions of the bones every frame to match the positions of the red
balls, which are simulated with Roblox’s physics.</p><p>Here&rsquo;s cloth with SpringConstraints instead of rods. LinearVelocity dampens
movement. VectorForce negates gravity to reduce weight. Spring Stiffness makes
the cloth more or less stretchy.</p><figure><video src=/blog/briefs/202201122039/01.mp4 controls loop></video></figure><p>RodConstraints are much better for less stretchy material, but the
LinearVelocity force has to be increased to compensate for the increased
rigidity:</p><figure><video src=/blog/briefs/202201122039/02.mp4 controls loop></video></figure><p>Apparently the orientation of bones affects the vertex normals of meshes, so I
can&rsquo;t really get away with just ignoring it. No good way using constraints, so
I&rsquo;ll have to calculate it in Luau.</p><figure><video src=/blog/briefs/202201122039/03.mp4 controls loop></video></figure><hr><p>What am I doing with my life.</p><figure><video src=/blog/briefs/202201122039/04.mp4 controls loop></video></figure><p>So, yes, it is possible to control bones with other parts, but it requires
certain constraint types to work. BallAndSocket is the most versatile, so I&rsquo;ll
see if I can construct cloth out of that. Until then, it&rsquo;s floppy rigatoni.</p><blockquote><p>&ldquo;hey tony, rig me a pasta noodle&rdquo;</p><p>I&rsquo;ll have to rig-a-toni. Hahaha HAHAHAHAA AAAAAAAAAAAAAAAAAAAAAAAAA</p><p>&mdash; Me (utterly deranged)</p></blockquote><hr><p>Think I have a general theory of how skinned meshes work. Two bones are merged
if and only if they:</p><ul><li>have the same Name.</li><li>are under the same Model.</li><li>are a part of the same assembly via compatible joints (JointInstance,
BallSocketConstraint, HingeConstraint).</li></ul><p>If more than two bones meet these criteria, only one pair is merged. It&rsquo;s not
clear which pair is selected, but it&rsquo;s probably undefined.</p><p>Bones usually exist internally in a mesh. The Bone instance can be thought of as
creating a virtual internal bone that is then merged as usual.</p><p>Some examples of valid skinned mesh configurations (I forgot to update the
compatible joint list; any JointInstance is allowed, not just Motor6Ds and
Welds):</p><figure><img src=/blog/briefs/202201122039/05.png width=800 height=880 loading=lazy></figure><blockquote><p>We variously called them “skinning islands” or “skeletons” instead of
assemblies (can span multiple assemblies or just a subset of one), but that’s
pretty much it. Bones don’t have to be child of mesh at all.</p><p>This is how skinned avatars work. Parts link up, internal bones linked to the
respective parts. Using Parts instead of Bones but it’s all using the same
logic.</p><p>&mdash; <a href=https://twitter.com/ContextLostRBX/status/1482992805953736704>@ContextLostRBX, 8:26 AM · Jan 17, 2022</a></p></blockquote><hr><p>Here&rsquo;s cloth driven entirely by physics. No scripts. Vertex normals are still a
problem because the BallSockets are allowed to twist. But if twist limits are
enabled, they start vibrating for some reason. Maybe the attachments are
oriented wrong.</p><figure><video src=/blog/briefs/202201122039/06.mp4 controls loop></video></figure><p>Constructed in a zigzag because I had trouble getting the mesh to merge to the
assembly any other way. Either it only merges into one branch of an assembly, or
it&rsquo;s something to do with the attachments. Doesn&rsquo;t seem to care about the
direction of the connections, though.</p><p>BallSockets have a sort of stiffness property that can be used to dampen the
motion, but this only works well for stiffer cloths. LinearVelocity will be
better for lighter cloth because it simulates air resistance.</p><p>The horizontal red lines are Rods. It would actually be better to make these
parts with BallSockets on each end, so that all joints can have stiffness
applied to them. I&rsquo;m not sure how that would affect the &ldquo;branchiness&rdquo; of the
assembly, though.</p><p>Tried a new skeleton consisting of rows of chains of bones, which correspond to
chains of BallSockets. Each joint is then connected by a Rod. The problem now is
that character movement is way too aggressive. Maybe increasing the cloth weight
will help?</p><figure><video src=/blog/briefs/202201122039/07.mp4 controls loop></video></figure><p>What happens when I enable collisions:</p><figure><video src=/blog/briefs/202201122039/08.mp4 controls loop></video></figure><p>Nuking appears to be caused by cloth joints getting under the Humanoid. So,
instead of colliding with the Default group, a separate &ldquo;ClothExclusion&rdquo; group
is used (in red). Lowering the UpperAngle of the BallSockets reduces flailing
and tangling. Limb clipping still a problem.</p><figure><video src=/blog/briefs/202201122039/09.mp4 controls loop></video></figure><p>The problem with limbs is that the Humanoid forces them to have no collisions.
Could be resolved by attaching ClothExclusion parts to each limb. Not sure how
badly that will affect flailing, though, if they even collide correctly.</p><p>Something to try is to attach an AlignPosition with a weak force to the end of
each chain, aligning to the expected resting position of the end relative to the
character. It may also be possible to alter them dynamically to improve air
resistance simulation.</p><p>Another problem is that something is interfering with jumping, leading to the
character being pushed horizontally. Also, landing wrong can cause the cloth to
detonate.</p><p>The jumping problem is caused by the cloth joints affecting the inertia of the
character. Simply moving the cloth outside of the character model solved the
problem.</p><p>Tried this, but it works rather poorly. The cloth doesn&rsquo;t respond to limb
movement very well, so it still clips right through. A combination of reducing
limb animation and increasing the number of chains might help.</p><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/gamedev/>#gamedev</a></div></article><article id=202201112035 class=brief><header><div class=title><h1><a href=/blog/briefs/202201112035/>Light mode</a></h1><time class=date title="2022-01-11 20:35">2022-01-11</time></div></header><p>The reason you dislike light mode is because your room doesn&rsquo;t get enough
sunlight.</p><div class=tags><a class=tag href=/blog/tags/hottake/>#hottake</a></div></article><article id=202201090825 class=brief><header><div class=title><h1><a href=/blog/briefs/202201090825/>Export</a></h1><time class=date title="2022-01-09 08:25">2022-01-09</time></div></header><p>One pattern I&rsquo;ve been using lately is naming the table returned by modules
&ldquo;export&rdquo; instead of the module name. This creates a similarity to exporting
types, and also frees up the module name to be used for something else (usually
a metatable).</p><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/programming/>#programming</a></div></article><article id=202201051046 class=brief><header><div class=title><h1><a href=/blog/briefs/202201051046/>Handedness</a></h1><time class=date title="2022-01-05 10:46">2022-01-05</time></div></header><p>Me trying to figure out the handedness of coordinate systems.</p><figure><img src=/blog/briefs/202201051046/00.jpg width=600 height=884 loading=lazy></figure><div class=tags><a class=tag href=/blog/tags/gamedev/>#gamedev</a>
<a class=tag href=/blog/tags/lark/>#lark</a></div></article><article id=202112291451 class=brief><header><div class=title><h1><a href=/blog/briefs/202112291451/>Reactive graphs</a></h1><time class=date title="2021-12-29 14:51">2021-12-29</time></div></header><p>Thinking about APIs.</p><figure><img src=/blog/briefs/202112291451/00.jpg width=861 height=1059 loading=lazy></figure><p>One idea was using add/sub to compose sets of symbol types, such as <code>Prop "Name"-Set</code> for a read-only property node, or <code>Receiver+Signal "Activated"</code> for
a signal with a receiver. The Get/Set symbols would then be usable with Nodes to
control direction. I&rsquo;m not sure how I feel about it, because it would enable
weird things like <code>Prop "Foo" + Attr "Bar"</code>.</p><hr><p>Prototyping. Nothing actually graphy yet. &ldquo;Prop&rdquo; does get repetitive, so it
definitely needs a &ldquo;Properties&rdquo; tag that receives a dictionary.</p><figure><img src=/blog/briefs/202112291451/01.png width=724 height=687 loading=lazy></figure><p>Inst isn&rsquo;t built in the to core (&ldquo;Graf&rdquo;). Instead, the core defines interfaces,
and Inst is just an implementation that operates on instances. Bind does the
heavy lifting of making data flow.</p><figure><img src=/blog/briefs/202112291451/02.png width=717 height=209 loading=lazy></figure><p>Bind returns the instance, along with a list of tasks to be finalized somewhere.
Schedule just sets these tasks to be finalized when the instance is destroyed.
Context returns a resolver that converts things like <code>Prop"Name"</code> into actual
state.</p><p>Implementing recursion. A context can resolve a sink (stuff on the left) into
another context, which must receive a map as a source (stuff on the right). In
this example, Properties becomes a context that converts string sinks into
property setters in addition to the usual stuff.</p><figure><img src=/blog/briefs/202112291451/03.png width=558 height=342 loading=lazy></figure><div class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/programming/>#programming</a>
<a class=tag href=/blog/tags/codeimage/>#codeimage</a></div></article><article id=202112290938 class=brief><header><div class=title><h1><a href=/blog/briefs/202112290938/>Graphs</a></h1><time class=date title="2021-12-29 09:38">2021-12-29</time></div></header><p>thinkin bout graphs again</p><div class=tags><a class=tag href=/blog/tags/programming/>#programming</a></div></article><article id=202112282023 class=brief><header><div class=title><h1><a href=/blog/briefs/202112282023/>NFTs</a></h1><time class=date title="2021-12-28 20:23">2021-12-28</time></div></header><p>An NFT is a string of bytes. Some authority invented out of thin air then makes
the unenforceable claim that these bytes are associated with something else in a
vain attempt to give them value. After that it&rsquo;s just the usual trading of fake
items in a fake market with fake money.</p><p>Given that the value of these items hinge completely on this authority anyway,
the blockchain part (and all the dumb shit that goes with it) can be skipped
entirely. This is how Roblox works.</p><p>The real point of interest is whether the fake money can be exchanged for real
money. In Roblox&rsquo;s case, the fake money earned from the sales of fake items
cannot be exchanged for real money. However, it can be used indirectly towards
earning &ldquo;clean&rdquo; money that can be exchanged.</p><div class=tags><a class=tag href=/blog/tags/tech/>#tech</a>
<a class=tag href=/blog/tags/roblox/>#roblox</a></div></article><article id=202112272208 class=brief><header><div class=title><h1><a href=/blog/briefs/202112272208/>Search engines</a></h1><time class=date title="2021-12-27 22:08">2021-12-27</time></div></header><p>The current state of search engines: I do a search for &ldquo;firefox import profile&rdquo;
and the top result is a health website titled &ldquo;Import Browser Settings Firefox
Cancer&rdquo;. Next result is a cooking website titled &ldquo;Import Firefox Settings Best
Recipes&rdquo;.</p><div class=tags><a class=tag href=/blog/tags/tech/>#tech</a>
<a class=tag href=/blog/tags/rant/>#rant</a></div></article></div><ul class="pagination pagination-default"><li class=page-item><a href=/blog/briefs/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/blog/briefs/page/7/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/blog/briefs/page/5/ aria-label="Page 5" class=page-link role=button>5</a></li><li class=page-item><a href=/blog/briefs/page/6/ aria-label="Page 6" class=page-link role=button>6</a></li><li class=page-item><a href=/blog/briefs/page/7/ aria-label="Page 7" class=page-link role=button>7</a></li><li class="page-item active"><a aria-current=page aria-label="Page 8" class=page-link role=button>8</a></li><li class=page-item><a href=/blog/briefs/page/9/ aria-label="Page 9" class=page-link role=button>9</a></li><li class=page-item><a href=/blog/briefs/page/9/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/blog/briefs/page/9/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></main><footer><span class=license>Content is licensed under <a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA-4.0</a><a class=feed-icon title="RSS feed" href=/blog/index.xml><svg width="128" height="128" viewBox="0 0 256 256"><path d="m92 189a24 24 0 01-24 24 24 24 0 01-24-24 24 24 0 0124-24 24 24 0 0124 24z"/><path d="m160 213h-34a82 82 0 00-82-82V97a116 116 0 01116 116z"/><path d="M184 213A140 140 0 0044 73V38a175 175 0 01175 175z"/></svg></a></span>
<span class=publication><svg viewBox="0 0 7 7" width="7" height="7"><path d="m2 0v1H1v3h1v3h1V6h1v1h1V4h1V1H5V0H4v1H3V0zm0 2h1v1H2zm2 0h1v1H4z"/></svg> 2022–2025 <a href=https://anaminus.github.io/>Anaminus</a></span></footer></body></html>