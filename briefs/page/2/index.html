<!doctype html><html lang=en-US dir=ltr><head><meta charset=utf-8><meta name=viewport content="initial-scale=1,width=device-width"><link rel=icon type=image/png sizes=32x32 href=/blog/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/blog/favicons/favicon-16x16.png><link rel="shortcut icon" href=/blog/favicons/favicon.ico><link rel=alternate type=application/rss+xml href=https://anaminus.github.io/blog/briefs/index.xml><title>Briefs | Anaminus.Blog</title><meta name=twitter:card content="summary"><meta name=twitter:title content="Briefs | Anaminus.Blog"><meta name=twitter:description content="Low-effort content for certain microblogging platforms."><meta name=twitter:image content="https://anaminus.github.io/blog/favicons/favicon-512x512.png"><meta property="og:type" content="website"><meta property="og:title" content="Briefs | Anaminus.Blog"><meta property="og:description" content="Low-effort content for certain microblogging platforms."><meta property="og:image" content="https://anaminus.github.io/blog/favicons/favicon-512x512.png"><link rel=stylesheet href=/blog/main.min.d44314867109fd1d095a61348ef92643a7f78532ebd601a156b2d85ef6e4522e.css integrity="sha256-1EMUhnEJ/R0JWmE0jvkmQ6f3hTLr1gGhVrLYXvbkUi4=" crossorigin=anonymous><style>.large{font-size:135%}.swatches{font-size:18px;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));grid-auto-rows:180px;> div { overflow: hidden; text-wrap: nowrap; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; }}.dark.r304{background-color:#000;color:#5a5a5a}.dark.r456{background-color:#000;color:#757575}.dark.r701{background-color:#000;color:#959595}.dark.r700{background-color:#595959;color:#fff}.dark.r454{background-color:#767676;color:#fff}.dark.r303{background-color:#949494;color:#fff}.light.r304{background-color:#5a5a5a;color:#000}.light.r456{background-color:#757575;color:#000}.light.r701{background-color:#959595;color:#000}.light.r700{background-color:#fff;color:#595959}.light.r454{background-color:#fff;color:#767676}.light.r303{background-color:#fff;color:#949494}</style></head><body><header><a href=https://anaminus.github.io/blog/><svg class="header" width="43" height="9" viewBox="0 0 43 9"><title>Logo with title ".Blog"</title><path class="logo" d="m2 1v1H1v3h1v3h1V7h1v1h1V5h1V2H5V1H4v1H3V1zm0 2h1v1H2zm2 0h1v1H4z"/><path class="title" d="m13 1v7h4V7h-3V5h3V4h-3V2h3V1zm4 1v2h1V2zm0 3v2h1V5zm2-2v5h5V7h-4V3zm7 0v1h3V3zm3 1v3h1V4zm0 3h-3v1h3zm-3 0V4h-1v3zm6-4v1h4V3zm0 1h-1v3h1zm0 3v1h3V7zm3 0h1V5h-3v1h2zM9 7v1h1V7z"/><path class="cursor" d="m37 8h5v1h-5z"/></svg></a></header><main><nav><a href=https://anaminus.github.io/blog/>Front</a></nav><h1 class=with-feed>Briefs<a class=feed-icon title="RSS feed" href=https://anaminus.github.io/blog/briefs/index.xml><svg width="128" height="128" viewBox="0 0 256 256"><path d="m92 189a24 24 0 01-24 24 24 24 0 01-24-24 24 24 0 0124-24 24 24 0 0124 24z"/><path d="m160 213h-34a82 82 0 00-82-82V97a116 116 0 01116 116z"/><path d="M184 213A140 140 0 0044 73V38a175 175 0 01175 175z"/></svg></a></h1><p>Low-effort content for certain microblogging platforms.</p><div class=briefs><article id=202307141235 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202307141235/>ModuleReflector</a></h1><time class=date title="2023-07-14 12:35">2023-07-14</time></div></header><p>Here&rsquo;s a module for requiring modules without caching, and monitoring Source
changes. A key difference from other implementations is that loadstring isn&rsquo;t
used. The killer feature is that breakpoints can be synced between copy and
original, so debugging is possible.</p><p><a href=https://github.com/Anaminus/roblox-library/tree/master/modules/ModuleReflector>https://github.com/Anaminus/roblox-library/tree/master/modules/ModuleReflector</a></p><p>Unfortunately, plugins can&rsquo;t access the DebuggerManager, so the debugging method
has to be invoked through the command bar. Fortunately, plugins and the command
bar share the same <code>_G</code> table, so a plugin can expose it that way.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/library/>#library</a></div></article><article id=202307090034 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202307090034/>Button movement</a></h1><time class=date title="2023-07-09 00:34">2023-07-09</time></div></header><p>Have GuiButtons always passed mouse movement inputs or am I crazy? They sink
mouse button inputs just fine.</p><p>Can&rsquo;t even use GetGuiObjectsAtPosition to enforce sinking because plugin GUIs
aren&rsquo;t a descendant of any BasePlayerGui. This is fun.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a></div></article><article id=202307090002 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202307090002/>Destroying</a></h1><time class=date title="2023-07-09 00:02">2023-07-09</time></div></header><p>Boring Facts: If Destroying is used to add a child to the destroyed instance,
that child wont be destroyed.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a>
<a class=tag href=https://anaminus.github.io/blog/tags/boring-facts/>#boring-facts</a></div></article><article id=202307070906 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202307070906/>Telemetry</a></h1><time class=date title="2023-07-07 09:06">2023-07-07</time></div></header><p>&ldquo;According to our analytics, no one was using the setting to opt out of
telemetry, so we decided to remove it.&rdquo;</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/lark/>#lark</a></div></article><article id=202306282139 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202306282139/>Input handling</a></h1><time class=date title="2023-06-28 21:39">2023-06-28</time></div></header><p>Certain input types have to be handled in certain ways. Key repetitions must be
handled by monitoring the key&rsquo;s InputObject, while mouse wheel input is best
handled by getting it from a source, because an emission from a source doesn&rsquo;t
always correspond to a property change.</p><p><video src=/blog/briefs/202306282139/00.mp4 controls loop></video></p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a></div></article><article id=202306272259 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202306272259/>Input position</a></h1><time class=date title="2023-06-27 22:59">2023-06-27</time></div></header><p>Boring Facts: The Position of a Keyboard InputObject will update with the
position of the mouse while the key is held down.</p><p>Correction: Only some keys do this, including the arrow keys, Return, Backspace,
and Delete.</p><p>Further correction: this is caused by key repetition. Generally, a keyboard
object will update with the position of the mouse. However, certain keys that
repeat will switch to the End state, then immediately back to the Begin state,
and repeat again while the key is held down.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a>
<a class=tag href=https://anaminus.github.io/blog/tags/boring-facts/>#boring-facts</a></div></article><article id=202306272255 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202306272255/>Keyboard InputObjects</a></h1><time class=date title="2023-06-27 22:55">2023-06-27</time></div></header><p>Boring Facts: Keyboard InputObjects are reused per KeyCode, but only while the
current source (e.g. UserInputService or a GUI) is in focus.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a>
<a class=tag href=https://anaminus.github.io/blog/tags/boring-facts/>#boring-facts</a></div></article><article id=202306272253 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202306272253/>Input visualizer</a></h1><time class=date title="2023-06-27 22:53">2023-06-27</time></div></header><p>Widget to visualize how InputObjects are produced. Whenever a new object is
made, it is added to the list, then monitored for changes. Each
Source+UserInputType+KeyCode combination produces its own object. Sources used
are the Input signals from UserInputService and a Frame GUI.</p><p><video src=/blog/briefs/202306272253/00.mp4 controls loop></video></p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a>
<a class=tag href=https://anaminus.github.io/blog/tags/fusion/>#fusion</a></div></article><article id=202306271227 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202306271227/>Track the mouse</a></h1><time class=date title="2023-06-27 12:27">2023-06-27</time></div></header><p>A unique advantage of ScrollingFrames over a custom implementation is that the
scrollbar can track the mouse across the entire screen, not just the viewport.</p><p>Correction: This isn&rsquo;t unique: the behavior applies to InputObjects, but only
while a mouse button is held down.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a></div></article><article id=202306262146 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202306262146/>StudioStyleGuideColor</a></h1><time class=date title="2023-06-26 21:46">2023-06-26</time></div></header><p>Fusion widget to help narrow down what StudioStyleGuideColor a studio element is
using.</p><p><video src=/blog/briefs/202306262146/00.mp4 controls loop></video></p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a>
<a class=tag href=https://anaminus.github.io/blog/tags/fusion/>#fusion</a></div></article><article id=202306241601 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202306241601/>Lattice</a></h1><time class=date title="2023-06-24 16:01">2023-06-24</time></div></header><p>A port of my &ldquo;lattice&rdquo; container GUI to Fusion. Takes a grid of columns and rows
defined as constant pixels or fractional values, and turns them into static
UDim2s. Has options for padding, margins, and a visualizer for debugging.</p><p><video src=/blog/briefs/202306241601/00.mp4 controls loop></video></p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a>
<a class=tag href=https://anaminus.github.io/blog/tags/fusion/>#fusion</a></div></article><article id=202306240035 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202306240035/>If-expressions</a></h1><time class=date title="2023-06-24 00:35">2023-06-24</time></div></header><p><em>furiously begins authoring the &ldquo;If-Expressions Considered Harmful&rdquo; paper</em></p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/luau/>#luau</a></div></article><article id=202306240026 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202306240026/>Dusty reference</a></h1><time class=date title="2023-06-24 00:26">2023-06-24</time></div></header><p>The Roblox API Reference hasn&rsquo;t been updating since the start of June, but it
should now be working normally again.
<a href=https://robloxapi.github.io/ref/updates.html>https://robloxapi.github.io/ref/updates.html</a></p><p>Definitely kicked up some dust trying to fix it. Can&rsquo;t wait to rewrite it.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/rbxapiref/>#rbxapiref</a></div></article><article id=202306201618 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202306201618/>Hand-holding</a></h1><time class=date title="2023-06-20 16:18">2023-06-20</time></div></header><p>Game: depicts hand-holding</p><p>Roblox: this game is rated 17+</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/lark/>#lark</a></div></article><article id=202306130845 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202306130845/>Radio silence</a></h1><time class=date title="2023-06-13 08:45">2023-06-13</time></div></header><p>Operation Radio Silence to Improve Chances of Securing my Discord Username was a
resounding success.</p><figure><img src=/blog/briefs/202306130845/00.png></figure><div class=tags></div></article><article id=202305232027 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202305232027/>Arrow</a></h1><time class=date title="2023-05-23 20:27">2023-05-23</time></div></header><p>The <code>-></code> operator is unergonomic to type and almost always looks like shit but
new languages will always find an excuse to include it because teehee it&rsquo;s an
arrow.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a>
<a class=tag href=https://anaminus.github.io/blog/tags/rant/>#rant</a></div></article><article id=202305201058 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202305201058/>ðŸ—¿</a></h1><time class=date title="2023-05-20 10:58">2023-05-20</time></div></header><figure><img src=/blog/briefs/202305201058/00.jpg></figure><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/shitpost/>#shitpost</a></div></article><article id=202305190907 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202305190907/>Child indexing</a></h1><time class=date title="2023-05-19 09:07">2023-05-19</time></div></header><p>stop [clap] using [clap] child [clap] indexing</p><p>The entire problem is that the operation isnâ€™t forward compatible. Either we
canâ€™t index children, or Roblox canâ€™t add new class members.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/rant/>#rant</a></div></article><article id=202305081614 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202305081614/>KVM switches</a></h1><time class=date title="2023-05-08 16:14">2023-05-08</time></div></header><p>At this point, I&rsquo;m just gonna call it: VM with GPU passthru is dead. Long live
KVM switches.</p><p><a href=https://devforum.roblox.com/t/proper-support-for-the-linux-platform/56544/88>https://devforum.roblox.com/t/proper-support-for-the-linux-platform/56544/88</a></p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a></div></article><article id=202304211611 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202304211611/>Punishment</a></h1><time class=date title="2023-04-21 16:11">2023-04-21</time></div></header><p>Surely we&rsquo;re past punishing users for playing our games in ways we don&rsquo;t like.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/hottake/>#hottake</a></div></article><article id=202304170002 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202304170002/>Walk speed</a></h1><time class=date title="2023-04-17 00:02">2023-04-17</time></div></header><p>Theory: The reason player characters move at different speeds from NPCs is
because the PC has been calibrated on the player&rsquo;s perception. PCs can&rsquo;t move as
slow as NPCs because it would feel sluggish, and NPCs can&rsquo;t move as fast as PCs
because it wouldn&rsquo;t look realistic.</p><p><em>It occurs to me that twitter will probably silently nuke shit out of this
tweet. If you are one of the lucky few to see it, hi!</em></p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a>
<a class=tag href=https://anaminus.github.io/blog/tags/thought/>#thought</a></div></article><article id=202304080059 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202304080059/>Bad but easy</a></h1><time class=date title="2023-04-08 00:59">2023-04-08</time></div></header><p>Instead of trying to work out a good-but-hard design from scratch, just start
with a bad-but-easy design. Refactoring a bad design into a good design is
rewarding and creates momentum.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a></div></article><article id=202304071532 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202304071532/>Immutable data</a></h1><time class=date title="2023-04-07 15:32">2023-04-07</time></div></header><p>Hot Take: The table.clone-type immutable data libraries that people keep making
are actually just table utility libraries with immutability add in for vague
reasons. They don&rsquo;t actually do any of the heavy lifting involved in making
immutable data efficient.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/hottake/>#hottake</a></div></article><article id=202304051411 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202304051411/>Cursed grammar</a></h1><time class=date title="2023-04-05 14:11">2023-04-05</time></div></header><pre tabindex=0><code>boolean := &#34;true&#34;
         | &#34;fake&#34;

boolean := &#34;right&#34;
         | &#34;false&#34;
</code></pre><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a>
<a class=tag href=https://anaminus.github.io/blog/tags/shitpost/>#shitpost</a></div></article><article id=202304031728 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202304031728/>It reads, it writes</a></h1><time class=date title="2023-04-03 17:28">2023-04-03</time></div></header><p>Been rewriting rbxfile. I think I&rsquo;ve got property type implementations
abstracted down to something satisfying. &ldquo;it&rdquo; stands for &ldquo;iterator&rdquo;, so this
could be considered a pun.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>it</span><span class=w> </span><span class=o>*</span><span class=nx>itRect</span><span class=p>)</span><span class=w> </span><span class=nf>ReadValue</span><span class=p>()</span><span class=w> </span><span class=p>(</span><span class=nx>v</span><span class=w> </span><span class=nx>values</span><span class=p>.</span><span class=nx>Rect</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>v</span><span class=p>.</span><span class=nx>Min</span><span class=p>.</span><span class=nx>X</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>it</span><span class=p>.</span><span class=nx>reads</span><span class=p>.</span><span class=nf>rf32b</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>v</span><span class=p>.</span><span class=nx>Min</span><span class=p>.</span><span class=nx>Y</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>it</span><span class=p>.</span><span class=nx>reads</span><span class=p>.</span><span class=nf>rf32b</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>v</span><span class=p>.</span><span class=nx>Max</span><span class=p>.</span><span class=nx>X</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>it</span><span class=p>.</span><span class=nx>reads</span><span class=p>.</span><span class=nf>rf32b</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>v</span><span class=p>.</span><span class=nx>Max</span><span class=p>.</span><span class=nx>Y</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>it</span><span class=p>.</span><span class=nx>reads</span><span class=p>.</span><span class=nf>rf32b</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>return</span><span class=w> </span><span class=nx>v</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>it</span><span class=w> </span><span class=o>*</span><span class=nx>itRect</span><span class=p>)</span><span class=w> </span><span class=nf>WriteValue</span><span class=p>(</span><span class=nx>v</span><span class=w> </span><span class=nx>values</span><span class=p>.</span><span class=nx>Rect</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>it</span><span class=p>.</span><span class=nx>writes</span><span class=p>.</span><span class=nf>rf32b</span><span class=p>(</span><span class=nx>v</span><span class=p>.</span><span class=nx>Min</span><span class=p>.</span><span class=nx>X</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>it</span><span class=p>.</span><span class=nx>writes</span><span class=p>.</span><span class=nf>rf32b</span><span class=p>(</span><span class=nx>v</span><span class=p>.</span><span class=nx>Min</span><span class=p>.</span><span class=nx>Y</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>it</span><span class=p>.</span><span class=nx>writes</span><span class=p>.</span><span class=nf>rf32b</span><span class=p>(</span><span class=nx>v</span><span class=p>.</span><span class=nx>Max</span><span class=p>.</span><span class=nx>X</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nx>it</span><span class=p>.</span><span class=nx>writes</span><span class=p>.</span><span class=nf>rf32b</span><span class=p>(</span><span class=nx>v</span><span class=p>.</span><span class=nx>Max</span><span class=p>.</span><span class=nx>Y</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/rbxl/>#rbxl</a></div></article><article id=202303172225 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202303172225/>Thatcher Cinematic Universe</a></h1><time class=date title="2023-03-17 22:25">2023-03-17</time></div></header><figure><img src=/blog/briefs/202303172225/00.jpg></figure><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/ai/>#ai</a>
<a class=tag href=https://anaminus.github.io/blog/tags/shitpost/>#shitpost</a></div></article><article id=202303171137 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202303171137/>WireframeHandleAdornment</a></h1><time class=date title="2023-03-17 11:37">2023-03-17</time></div></header><p>Tip for using WireframeHandleAdornment: The Color3/Transparency of the adornment
only affects newly added lines, so you only need one adornment to draw lines
with any appearance.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a></div></article><article id=202303171116 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202303171116/>Screen/viewport split</a></h1><time class=date title="2023-03-17 11:16">2023-03-17</time></div></header><p>The screen/viewport split was one of the biggest blunders Roblox ever made.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/rant/>#rant</a></div></article><article id=202303171111 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202303171111/>R-tree</a></h1><time class=date title="2023-03-17 11:11">2023-03-17</time></div></header><p>Visualization of an r-tree. WireframeHandleAdornment is essential for debugging.</p><figure><img src=/blog/briefs/202303171111/00.jpg></figure><p>It&rsquo;s harder to draw shapes, but it&rsquo;s way better than keeping track of a million
handle adornments.</p><figure><img src=/blog/briefs/202303171111/01.jpg></figure><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a></div></article><article id=202302132136 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202302132136/>202302132136</a></h1><time class=date title="2023-02-13 21:36">2023-02-13</time></div></header><p>My local news on balloons: Here&rsquo;s some old information that we repeated
yesterday and the day before. We&rsquo;ll be sure to keep you up to date on the latest
nothing that&rsquo;s unfolding.</p><p>My local news on catastrophic industrial disasters: That happened. Here&rsquo;s the
weather.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/rant/>#rant</a></div></article><article id=202302081049 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202302081049/>Angry voice lines</a></h1><time class=date title="2023-02-08 10:49">2023-02-08</time></div></header><p>Roblox allowing things like profanity will actually make the writing of angry
characters worse.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/hottake/>#hottake</a></div></article><article id=202302051058 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202302051058/>Enum alises</a></h1><time class=date title="2023-02-05 10:58">2023-02-05</time></div></header><p>Renamed enum items are &ldquo;removed&rdquo; from the API, but still stick around as an
alias to whatever replaced them.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a>
<a class=tag href=https://anaminus.github.io/blog/tags/boring-facts/>#boring-facts</a></div></article><article id=202302041156 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202302041156/>Roblox 2:2</a></h1><time class=date title="2023-02-04 11:56">2023-02-04</time></div></header><p>And on the sixth day God rested, for the damn servers were down anyway.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/lark/>#lark</a></div></article><article id=202302021522 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202302021522/>Digital carnivore</a></h1><time class=date title="2023-02-02 15:22">2023-02-02</time></div></header><p>Hipsters, soon: I only consume works from meat-based authors.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/ai/>#ai</a>
<a class=tag href=https://anaminus.github.io/blog/tags/lark/>#lark</a></div></article><article id=202302021519 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202302021519/>Go big</a></h1><time class=date title="2023-02-02 15:19">2023-02-02</time></div></header><p>Investors: How make number go bigger?</p><p>Roblox:</p><p><a href=https://devforum.roblox.com/t/beta-update-new-experiences-have-team-create-enabled/2172232>https://devforum.roblox.com/t/beta-update-new-experiences-have-team-create-enabled/2172232</a></p><figure><img src=/blog/briefs/202302021519/00.jpg></figure><p>For comparison, stats as displayed on 2022-11-15:</p><figure><img src=/blog/briefs/202302021519/01.png></figure><p>Idiot theory: Roblox made a bad-faith measurement of developers/experiences in
Q2, with the stats from Q3 (above) being more accurate. To address number go
down, they&rsquo;re pushing Team Create hard to make number go big again.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/observation/>#observation</a></div></article><article id=202301271430 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202301271430/>Good code</a></h1><time class=date title="2023-01-27 14:30">2023-01-27</time></div></header><p>Write good code to write good code.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a>
<a class=tag href=https://anaminus.github.io/blog/tags/thought/>#thought</a></div></article><article id=202301210944 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202301210944/>The Cloudâ„¢</a></h1><time class=date title="2023-01-21 09:44">2023-01-21</time></div></header><p>There goes a productive day. Thanks, The Cloudâ„¢.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/rant/>#rant</a></div></article><article id=202301191334 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202301191334/>ProximityPrompts</a></h1><time class=date title="2023-01-19 13:34">2023-01-19</time></div></header><p>ProximityPrompts make for great general proximity detectors.</p><p><video src=/blog/briefs/202301191334/00.mp4 controls loop></video></p><p>The proximity signals are client-only, so validation is still required. But itâ€™s
a fast and simple solution for detection. I like to think that itâ€™s been
optimized for large numbers of prompts spread across the workspace, so itâ€™d be a
winner in that case.</p><p><em>Author&rsquo;s Note: The tweet this post was derived from was blessed by The
Algorithm for some reason.</em></p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a></div></article><article id=202301161535 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202301161535/>RemoveEvent:Once()</a></h1><time class=date title="2023-01-16 15:35">2023-01-16</time></div></header><p>Using <code>:Once()</code> on a RemoteEvent will cause the first queued event to be
received and all other queued events to be discarded.</p><p>This is a design flaw: connecting to a signal must not fire the signal, which
remotes do. To avoid losing events, the workaround is to enforce a remote to
have exactly one consumer. By this logic, <code>:Once()</code> isnâ€™t allowed, because it
adds the one consumer then immediately removes it.</p><p>The problem is that connecting to the signal fires it and drains the queue. You
literally cannot connect multiple listeners without one of them missing the
queued events. The only option is a wrapper with one listener that dispatches to
multiple listeners.</p><p>There are several solutions to the problem. The most backward compatible would
be to trigger the dequeue on the first connection as usual, but defer it so that
other connections in the same frame have a chance to connect.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a></div></article><article id=202301121724 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202301121724/>Random graphs</a></h1><time class=date title="2023-01-12 17:24">2023-01-12</time></div></header><p>Random graph generation. Blue vertices have unexplored edges, while green ones
are completely explored. Occasionally connects a new vertex to a nearby existing
vertex, forming a loop. Rarely creates a long loop by connecting to the most
distant vertex.</p><p><video src=/blog/briefs/202301121724/00.mp4 controls loop></video></p><p>The graph is represented by a force-directed graph that moves the vertices
around to make them easier to visualize. The actual graph is dimensionless, with
the vertices having no 2D or 3D position.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a></div></article><article id=202301090959 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202301090959/>Streaming</a></h1><time class=date title="2023-01-09 09:59">2023-01-09</time></div></header><p>A problem with streaming on Roblox is that a client can just move the camera
anywhere, and the server will happily stream whatever is at that location, even
if the player is not meant to be there. Developers need to be able to exclude
areas from being streamed to certain clients.</p><p><em>2023-01-16 23:14</em>: As a follow up, it turns out to be possible with the
Player.ReplicationFocus property. Setting it to a dummy part gives the server
the opportunity to deny streaming in. The position of the dummy part matches the
character, except when the character moves to an undesired location.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a>
<a class=tag href=https://anaminus.github.io/blog/tags/rant/>#rant</a></div></article><article id=202212300234 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202212300234/>1-bit LÃ–VE</a></h1><time class=date title="2022-12-30 02:34">2022-12-30</time></div></header><p>Having some fun with LÃ–VE.</p><p><video src=/blog/briefs/202212300234/00.mp4 controls loop></video></p><p>Here&rsquo;s a view of the chunk buffer demonstrating simplified chunk loading:</p><p><video src=/blog/briefs/202212300234/01.mp4 controls loop></video></p><p>The white area is the viewport. Chunks are updated only when the focus leaves
the yellow area. Each corner of the blue area determines which chunks are
loaded.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a></div></article><article id=202212221650 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202212221650/>The writers</a></h1><time class=date title="2022-12-22 16:50">2022-12-22</time></div></header><p>First AI came for the writers</p><p>And nothing was said about the writers because they didn&rsquo;t make any pretty
pictures to look at.</p><p>Then AI came for the artists</p><p>And nothing was said about the writers because they didn&rsquo;t make any pretty
pictures to look at.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/ai/>#ai</a></div></article><article id=202212192058 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202212192058/>Futility</a></h1><time class=date title="2022-12-19 20:58">2022-12-19</time></div></header><p>You can&rsquo;t spell futility without utility! <em>winks</em> <em>double snap-pointing gesture</em>
<em>winning smile with single sparkle accompanied by &ldquo;ting&rdquo; sound</em></p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/shitpost/>#shitpost</a></div></article><article id=202212162341 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202212162341/>Bumping dependencies</a></h1><time class=date title="2022-12-16 23:41">2022-12-16</time></div></header><p>Hope you check dependency diffs before bumping them.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a></div></article><article id=202212090940 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202212090940/>Copilot</a></h1><time class=date title="2022-12-09 09:40">2022-12-09</time></div></header><p>Maintainers Not So Impressed After Influx of Bug Reports Deriving From Copilot
Having No Idea What It&rsquo;s Talking About</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/ai/>#ai</a>
<a class=tag href=https://anaminus.github.io/blog/tags/lark/>#lark</a></div></article><article id=202212080955 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202212080955/>Punishing players</a></h1><time class=date title="2022-12-08 09:55">2022-12-08</time></div></header><p>It&rsquo;s current year and we&rsquo;re still hell-bent on punishing players for not playing
our games correctly instead of just shoving them into their own world where they
can play however they like.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/gamedev/>#gamedev</a>
<a class=tag href=https://anaminus.github.io/blog/tags/thought/>#thought</a></div></article><article id=202212031031 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202212031031/>AI skimming</a></h1><time class=date title="2022-12-03 10:31">2022-12-03</time></div></header><p>It seems like AI is really good at appearing correct at a glance. It&rsquo;s almost
like it&rsquo;s being trained by humans that are just skimming the results.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/ai/>#ai</a>
<a class=tag href=https://anaminus.github.io/blog/tags/thought/>#thought</a></div></article><article id=202211230944 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202211230944/>Repo blog</a></h1><time class=date title="2022-11-23 09:44">2022-11-23</time></div></header><p>For future reference, my blog is just a git repo, so any changes will be visible
at <a href=https://github.com/Anaminus/blog>https://github.com/Anaminus/blog</a></p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/git/>#git</a>
<a class=tag href=https://anaminus.github.io/blog/tags/meta/>#meta</a></div></article><article id=202211211053 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202211211053/>Unordered RBXL</a></h1><time class=date title="2022-11-21 10:53">2022-11-21</time></div></header><p>I&rsquo;ve been thinking about an implementation of the binary rbxl format where
chunks can decode in any order, and empty space is allowed between chunks, which
would enable efficient partial modifications to files.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/rbxl/>#rbxl</a></div></article><article id=202211201352 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202211201352/>Social engagement</a></h1><time class=date title="2022-11-20 13:52">2022-11-20</time></div></header><p>I have reservations about using retweets/boosts/likes/favorites, but Mastodon
seems to be less psychotic about them, so I might use them more there.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/thought/>#thought</a></div></article><article id=202211142003 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202211142003/>Software design</a></h1><time class=date title="2022-11-14 20:03">2022-11-14</time></div></header><p>When a software&rsquo;s design is poorly understood, the only thing users have to go
off of is whatever they&rsquo;re allowed to do.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a>
<a class=tag href=https://anaminus.github.io/blog/tags/thought/>#thought</a></div></article><article id=202211141900 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202211141900/>Maid pattern</a></h1><time class=date title="2022-11-14 19:00">2022-11-14</time></div></header><p>Janitor/Maid/etc are different conveniences built on the same core principal:
finalization is established near initialization. I continue to assert that maid
is a pattern, so the best solution is to either roll your own, or pick whatever
best suits your needs.</p><p>Here&rsquo;s my implementation, which represents my current theory on the matter:</p><p><a href=https://github.com/Anaminus/roblox-library/tree/master/modules/Maid>https://github.com/Anaminus/roblox-library/tree/master/modules/Maid</a></p><p>As for memory leaks, no library will save you from having the wrong mindset
about memory management. Maids and Janitors are just one of the many possible
answers to &ldquo;What am I going to do about this thing I just created once I no
longer need it?&rdquo;</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a>
<a class=tag href=https://anaminus.github.io/blog/tags/library/>#library</a></div></article><article id=202211140846 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202211140846/>Case convention</a></h1><time class=date title="2022-11-14 08:46">2022-11-14</time></div></header><p>I normally do PascalCase for public, and camelCase for private. But since
Roblox&rsquo;s convention for modules is module.camelCase, I match that instead. So
the difference becomes unexportedFunction vs module.exportedFunction, and
PascalCase just isn&rsquo;t used for top-level functions.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a></div></article><article id=202211112220 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202211112220/>Blender multi-tool</a></h1><time class=date title="2022-11-11 22:20">2022-11-11</time></div></header><p>Lately I&rsquo;ve found that Blender has been making up for shortcomings with other
software that have nothing to do with modeling.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/blender/>#blender</a>
<a class=tag href=https://anaminus.github.io/blog/tags/observation/>#observation</a></div></article><article id=202211080648 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202211080648/>Dead project</a></h1><time class=date title="2022-11-08 06:48">2022-11-08</time></div></header><p>A perfectly correct but dead project is better than a mostly correct but living
project only if the project is already completely finished.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a>
<a class=tag href=https://anaminus.github.io/blog/tags/thought/>#thought</a></div></article><article id=202211071031 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202211071031/>Little brain</a></h1><time class=date title="2022-11-07 10:31">2022-11-07</time></div></header><p>So much software to write, so little brain to write them.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/thought/>#thought</a>
<a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a></div></article><article id=202211062016 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202211062016/>Parody</a></h1><time class=date title="2022-11-06 20:16">2022-11-06</time></div></header><p>parody? parodeez nutz</p><p><em>The author would like to formally apologize to his friends, family, and
followers for having posted this.</em></p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/shitpost/>#shitpost</a></div></article><article id=202211021020 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202211021020/>Immediate mode</a></h1><time class=date title="2022-11-02 10:20">2022-11-02</time></div></header><p>Why do we use immediate mode libraries on top of retained mode APIs on top of
immediate mode graphics?</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a>
<a class=tag href=https://anaminus.github.io/blog/tags/rant/>#rant</a></div></article><article id=202211021007 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202211021007/>Roact</a></h1><time class=date title="2022-11-02 10:07">2022-11-02</time></div></header><p>my favorite part of roact is how you can instantly tell when it&rsquo;s being used by
the complete lack of keyboard support and the general feeling of sluggishness</p><p><video src=/blog/briefs/202211021007/00.mp4 controls loop></video></p><blockquote><p>It would run much better with a proper component implementation.</p></blockquote><p>Of course, but it wasn&rsquo;t done that way. Why not? Maybe it&rsquo;s because Roact makes
it easy to do the wrong thing. Or hard to do the right thing. Or both.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/rant/>#rant</a></div></article><article id=202211012140 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202211012140/>Transpiling</a></h1><time class=date title="2022-11-01 21:40">2022-11-01</time></div></header><p>My beef with transpiling is writing in one language and receiving errors in
another language. Or worse, having to mentally map one to the other while
stepping through a debugger. It&rsquo;s not worth it if the productivity gained during
writing is lost during debugging.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a>
<a class=tag href=https://anaminus.github.io/blog/tags/rant/>#rant</a></div></article><article id=202211012005 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202211012005/>Module packages</a></h1><time class=date title="2022-11-01 20:05">2022-11-01</time></div></header><p>I feel like a problem with modules is that a module&rsquo;s namespace can&rsquo;t be divided
further than one ModuleScript. It would be nice if there were some kind of
Package object, where all child ModuleScripts shared the same environment.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a></div></article><article id=202210301223 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202210301223/>Binstruct rewrite</a></h1><time class=date title="2022-10-30 12:23">2022-10-30</time></div></header><p>Rewriting Binstruct to be more ergonomic. Also added support for recursive type
definitions, which is implemented in the VM as subroutines. Continues to be my
favorite module to write.</p><figure><img src=/blog/briefs/202210301223/00.png></figure><p>Rewrote Binstruct&rsquo;s union type to work like an if statement. Here&rsquo;s what parsing
a value for serialized attributes looks like.</p><figure><img src=/blog/briefs/202210301223/01.png></figure><p>Because type definitions in Binstruct are just tables, it&rsquo;s really easy to
create abstractions to make defining types more ergonomic. This is an example of
a builder that allows advanced functions to be added to a definition more
easily.</p><figure><img src=/blog/briefs/202210301223/02.png></figure><p>The builder in action. The decode/encode functions convert between a finalized
value and an intermediate representation that is more easily digested by the
codec, though this representation is often useful enough on its own.</p><figure><img src=/blog/briefs/202210301223/03.png></figure><p>All good data formats have a version number. Here&rsquo;s a constructor that applies
versioning to any type. It uses a union to match a version to one of a number of
types. The version is also available as a &ldquo;global&rdquo;, allowing the value to be
inspected from anywhere in the structure.</p><figure><img src=/blog/briefs/202210301223/04.png></figure><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/library/>#library</a></div></article><article id=202210261007 class=brief><header><div class=title><h1><a href=https://anaminus.github.io/blog/briefs/202210261007/>Type smuggling</a></h1><time class=date title="2022-10-26 10:07">2022-10-26</time></div></header><p>Type smuggling:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-luau data-lang=luau><span class=line><span class=cl><span class=n>type</span> <span class=n>T</span> <span class=o>=</span> <span class=n>typeof</span><span class=p>(</span><span class=n>require</span><span class=p>(...))</span>
</span></span></code></pre></div><p>Allows you to get types from a module without requiring it. Does not work with
exported types.</p><p>To get around exporting, types can be smuggled through the returned table.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-luau data-lang=luau><span class=line><span class=cl><span class=kd>local</span> <span class=n>export</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- Innocent module stuff.</span>
</span></span><span class=line><span class=cl><span class=kr>function</span> <span class=nc>export</span><span class=p>.</span><span class=nf>new</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- Some types. Must require</span>
</span></span><span class=line><span class=cl><span class=c1>-- the module in order to get.</span>
</span></span><span class=line><span class=cl><span class=n>export</span> <span class=n>type</span> <span class=n>Foo</span> <span class=o>=</span> <span class=n>string</span> <span class=o>|</span> <span class=n>number</span>
</span></span><span class=line><span class=cl><span class=n>export</span> <span class=n>type</span> <span class=n>Bar</span> <span class=o>=</span> <span class=p>()</span> <span class=o>-&gt;</span> <span class=n>boolean</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- Smuggle them through</span>
</span></span><span class=line><span class=cl><span class=c1>-- the returned table.</span>
</span></span><span class=line><span class=cl><span class=n>export._Foo</span> <span class=o>=</span> <span class=p>(</span><span class=kc>nil</span><span class=p>::</span><span class=nl>any</span><span class=err>)</span><span class=p>::</span><span class=n>Foo</span>
</span></span><span class=line><span class=cl><span class=n>export._Bar</span> <span class=o>=</span> <span class=p>(</span><span class=kc>nil</span><span class=p>::</span><span class=nl>any</span><span class=err>)</span><span class=p>::</span><span class=n>Bar</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>return</span> <span class=n>export</span>
</span></span></code></pre></div><blockquote><p>This is incredibly useful for smuggling types from a server module in a client
module so the data the client is going to receive from the server via a remote
can be fully typed.</p><p>&mdash; <a href=https://x.com/fewkz/status/1590230560764760065>@fewkz, 6:31 AM Â· Nov 9, 2022</a></p></blockquote><p>So nothing breaks on the client even though the modules containing the server
types arenâ€™t replicated, because types donâ€™t matter at runtime. Interesting
approach.</p><div class=tags><a class=tag href=https://anaminus.github.io/blog/tags/roblox/>#roblox</a>
<a class=tag href=https://anaminus.github.io/blog/tags/programming/>#programming</a></div></article></div><ul class="pagination pagination-default"><li class=page-item><a href=/blog/briefs/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/blog/briefs/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/blog/briefs/ aria-label="Page 1" class=page-link role=button>1</a></li><li class="page-item active"><a aria-current=page aria-label="Page 2" class=page-link role=button>2</a></li><li class="page-item disabled"><a aria-disabled=true aria-label=Next class=page-link role=button tabindex=-1><span aria-hidden=true>&#187;</span></a></li><li class="page-item disabled"><a aria-disabled=true aria-label=Last class=page-link role=button tabindex=-1><span aria-hidden=true>&#187;&#187;</span></a></li></ul></main><footer><span class=license>Content is licensed under <a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA-4.0</a><a class=feed-icon title="RSS feed" href=https://anaminus.github.io/blog/index.xml><svg width="128" height="128" viewBox="0 0 256 256"><path d="m92 189a24 24 0 01-24 24 24 24 0 01-24-24 24 24 0 0124-24 24 24 0 0124 24z"/><path d="m160 213h-34a82 82 0 00-82-82V97a116 116 0 01116 116z"/><path d="M184 213A140 140 0 0044 73V38a175 175 0 01175 175z"/></svg></a></span>
<span class=publication><svg viewBox="0 0 7 7" width="7" height="7"><path d="m2 0v1H1v3h1v3h1V6h1v1h1V4h1V1H5V0H4v1H3V0zm0 2h1v1H2zm2 0h1v1H4z"/></svg> 2022â€“2025 <a href=https://anaminus.github.io/>Anaminus</a></span></footer></body></html>