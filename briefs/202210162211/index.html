<!doctype html><html lang=en-US dir=ltr><head><meta charset=utf-8><meta name=viewport content="initial-scale=1,width=device-width"><link rel=icon type=image/png sizes=32x32 href=/blog/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/blog/favicons/favicon-16x16.png><link rel="shortcut icon" href=/blog/favicons/favicon.ico><title>Rx | Anaminus.Blog</title><meta name=twitter:card content="summary"><meta name=twitter:title content="Rx | Anaminus.Blog"><meta name=twitter:image content="https://anaminus.github.io/blog/favicons/favicon-512x512.png"><meta property="og:type" content="website"><meta property="og:title" content="Rx | Anaminus.Blog"><meta property="og:image" content="https://anaminus.github.io/blog/favicons/favicon-512x512.png"><link rel=stylesheet href=/blog/main.min.ca70a43ffa905155dd0834469ae9edebadaa11453b9af809dc9ac93aeafd262b.css integrity="sha256-ynCkP/qQUVXdCDRGmunt662qEUU7mvgJ3JrJOur9Jis=" crossorigin=anonymous></head><body><header><a href=/blog/><svg class="header" width="43" height="9" viewBox="0 0 43 9"><title>Logo with title ".Blog"</title><path class="logo" d="m2 1v1H1v3h1v3h1V7h1v1h1V5h1V2H5V1H4v1H3V1zm0 2h1v1H2zm2 0h1v1H4z"/><path class="title" d="m13 1v7h4V7h-3V5h3V4h-3V2h3V1zm4 1v2h1V2zm0 3v2h1V5zm2-2v5h5V7h-4V3zm7 0v1h3V3zm3 1v3h1V4zm0 3h-3v1h3zm-3 0V4h-1v3zm6-4v1h4V3zm0 1h-1v3h1zm0 3v1h3V7zm3 0h1V5h-3v1h2zM9 7v1h1V7z"/><path class="cursor" d="m37 8h5v1h-5z"/></svg></a></header><main><nav><a href=/blog/briefs/>Briefs</a></nav><article><header><div class=title><h1>Rx</h1><span class=date>Published on <time>2022-10-16 22:11</time></span></div><div class=subtitle><span class=tags><a class=tag href=/blog/tags/roblox/>#roblox</a>
<a class=tag href=/blog/tags/programming/>#programming</a>
<a class=tag href=/blog/tags/fusion/>#fusion</a></span></div></header><p>Ripped a standalone version of @Quenty&rsquo;s Rx module out of Nevermore. Looks very
very promising.</p><figure><video src=/blog/briefs/202210162211/00.mp4 controls loop></video></figure><p>Interfacing with Fusion&rsquo;s Value objects is really easy:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=kr>function</span> <span class=nc>Rxf</span><span class=p>.</span><span class=nf>value</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=n>Fusion.Value</span><span class=p>):</span> <span class=n>Rx.Observer</span>
</span></span><span class=line><span class=cl>	<span class=kr>return</span> <span class=n>Rx.observer</span><span class=p>(</span><span class=kr>function</span><span class=p>(</span><span class=n>sub</span><span class=p>:</span> <span class=n>Rx.Subscriber</span><span class=p>):</span> <span class=n>Maid.Task</span>
</span></span><span class=line><span class=cl>		<span class=kd>local</span> <span class=n>conn</span> <span class=o>=</span> <span class=n>Fusion.Observer</span><span class=p>(</span><span class=n>value</span><span class=p>):</span><span class=n>onChange</span><span class=p>(</span><span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=cl>			<span class=n>sub</span><span class=p>:</span><span class=n>Fire</span><span class=p>(</span><span class=n>value</span><span class=p>:</span><span class=n>get</span><span class=p>())</span>
</span></span><span class=line><span class=cl>		<span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=n>sub</span><span class=p>:</span><span class=n>Fire</span><span class=p>(</span><span class=n>value</span><span class=p>:</span><span class=n>get</span><span class=p>())</span>
</span></span><span class=line><span class=cl>		<span class=kr>return</span> <span class=n>conn</span>
</span></span><span class=line><span class=cl>	<span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kr>end</span>
</span></span></code></pre></div><blockquote><p>How&rsquo;s performance? I&rsquo;ve been looking to write a version of what you&rsquo;re writing
here for a while, but query performance seems scary.</p><p>Using RxInstanceUtils for now, but this is looking a lot cleaner.</p><p>&mdash; <a href=https://twitter.com/Quenty/status/1582087487610302464>@Quenty, 7:13 PM · Oct 17, 2022</a></p></blockquote><p>I haven&rsquo;t deliberately optimized anything, but it&rsquo;s not the worst. I might be
comfortable with one query that updates every frame, for example. It&rsquo;s a mess,
but you can <a href=https://gist.github.com/Anaminus/1f31af4e5280b9333f3f58e13840c670>play with it here</a>.</p><blockquote><p>hey wait a minute, arent you not a fan of observing any kind of behavior on
instances that enter the data model?</p><p>&mdash; <a href=https://twitter.com/Kampfkarren/status/1582087755311349760>@Kampfkarren, 7:14 PM · Oct 17, 2022</a></p></blockquote><p>That&rsquo;s right. Which is why Rx is great, because it simplifies a bunch of
boilerplate that would otherwise be need to ensure that an observation is
correct.</p></article></main><footer><span class=license>Content is licensed under <a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA-4.0</a><a class=feed-icon title="RSS feed" href=/blog/index.xml><svg width="128" height="128" viewBox="0 0 256 256"><path d="m92 189a24 24 0 01-24 24 24 24 0 01-24-24 24 24 0 0124-24 24 24 0 0124 24z"/><path d="m160 213h-34a82 82 0 00-82-82V97a116 116 0 01116 116z"/><path d="M184 213A140 140 0 0044 73V38a175 175 0 01175 175z"/></svg></a></span>
<span class=publication><svg viewBox="0 0 7 7" width="7" height="7"><path d="m2 0v1H1v3h1v3h1V6h1v1h1V4h1V1H5V0H4v1H3V0zm0 2h1v1H2zm2 0h1v1H4z"/></svg> 2022–2025 <a href=https://anaminus.github.io/>Anaminus</a></span></footer></body></html>